# ============================================
# Pet Platform - Environment Variables
# ============================================
# Copy this file to .env and configure with your values
# For production, use secure values and never commit .env

# ============================================
# APPLICATION
# ============================================
NODE_ENV=development
APP_NAME=PetPlatform
APP_URL=http://localhost:3100

# ============================================
# FRONTEND (Next.js)
# ============================================
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_WS_URL=ws://localhost:3000
NEXT_PUBLIC_SITE_URL=http://localhost:3100

# ============================================
# API GATEWAY
# ============================================
GATEWAY_PORT=3000
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
CORS_ORIGIN=*

# ============================================
# SERVICE PORTS
# ============================================
AUTH_SERVICE_PORT=3001
USER_SERVICE_PORT=3002
PET_SERVICE_PORT=3003
MATCHING_SERVICE_PORT=3004
CHAT_SERVICE_PORT=3005
MARKETPLACE_SERVICE_PORT=3006
ADMIN_SERVICE_PORT=3007

# ============================================
# DATABASE - PostgreSQL
# ============================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=pet_platform
DATABASE_USER=petadmin
DATABASE_PASSWORD=petpass123
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_SSL=false
DATABASE_SYNCHRONIZE=true
DATABASE_LOGGING=true

# ============================================
# DATABASE - MongoDB
# ============================================
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=pet_platform_chat
MONGODB_USER=petadmin
MONGODB_PASSWORD=petpass123
MONGODB_URI=mongodb://petadmin:petpass123@localhost:27017/pet_platform_chat?authSource=admin

# ============================================
# REDIS (Cache & Sessions)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=petredis123
REDIS_DB=0
REDIS_TTL=3600

# ============================================
# MESSAGE QUEUE - RabbitMQ
# ============================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=petadmin
RABBITMQ_PASSWORD=petpass123
RABBITMQ_URL=amqp://petadmin:petpass123@localhost:5672
RABBITMQ_VHOST=/
RABBITMQ_QUEUE=pet_platform_queue

# ============================================
# ELASTICSEARCH (Search)
# ============================================
ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_INDEX_PREFIX=pet_platform
ELASTICSEARCH_MAX_RETRIES=3
ELASTICSEARCH_REQUEST_TIMEOUT=30000

# ============================================
# OBJECT STORAGE - MinIO (S3-compatible)
# ============================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=petadmin
MINIO_SECRET_KEY=petpass123
MINIO_USE_SSL=false
MINIO_BUCKET_PETS=pets
MINIO_BUCKET_USERS=users
MINIO_BUCKET_CHAT=chat
MINIO_BUCKET_DOCUMENTS=documents

# Alternative: AWS S3
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=pet-platform-prod

# ============================================
# JWT AUTHENTICATION
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_EXPIRATION=24h
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_REFRESH_EXPIRATION=7d
JWT_ISSUER=pet-platform
JWT_AUDIENCE=pet-platform-users

# ============================================
# OAUTH - Google
# ============================================
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/google/callback

# ============================================
# OAUTH - Apple
# ============================================
APPLE_CLIENT_ID=com.petplatform.service
APPLE_TEAM_ID=your-apple-team-id
APPLE_KEY_ID=your-apple-key-id
APPLE_PRIVATE_KEY_PATH=/path/to/apple-private-key.p8
APPLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/apple/callback

# ============================================
# OAUTH - LINE
# ============================================
LINE_CHANNEL_ID=your-line-channel-id
LINE_CHANNEL_SECRET=your-line-channel-secret
LINE_CALLBACK_URL=http://localhost:3000/api/v1/auth/line/callback

# ============================================
# EMAIL SERVICE
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@petplatform.com
SMTP_PASSWORD=your-smtp-password
EMAIL_FROM=PetPlatform <noreply@petplatform.com>

# Alternative: SendGrid
# SENDGRID_API_KEY=your-sendgrid-api-key
# SENDGRID_FROM_EMAIL=noreply@petplatform.com

# ============================================
# SMS SERVICE (Optional)
# ============================================
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# PUSH NOTIFICATIONS
# ============================================
# Firebase Cloud Messaging
FCM_SERVER_KEY=your-fcm-server-key
FCM_PROJECT_ID=your-firebase-project-id

# Apple Push Notification Service
APNS_KEY_ID=your-apns-key-id
APNS_TEAM_ID=your-apns-team-id
APNS_BUNDLE_ID=com.petplatform.app
APNS_PRIVATE_KEY_PATH=/path/to/apns-private-key.p8
APNS_PRODUCTION=false

# ============================================
# MAPS & LOCATION
# ============================================
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
MAPBOX_ACCESS_TOKEN=your-mapbox-access-token

# ============================================
# PAYMENT GATEWAY (Optional)
# ============================================
# Stripe
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# PayPal
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_MODE=sandbox

# ============================================
# ML SERVICES
# ============================================
ML_RECOMMENDER_URL=http://localhost:8000
ML_FRAUD_DETECTION_URL=http://localhost:8001
ML_MODEL_VERSION=1.0.0
ML_ENABLE_CACHING=true
ML_CACHE_TTL=3600

# ============================================
# MACHINE LEARNING MODELS
# ============================================
MODEL_PATH=/models
MODEL_RECOMMENDER_PATH=/models/recommender_v1.pkl
MODEL_FRAUD_DETECTION_PATH=/models/fraud_detection_v1.pkl
MODEL_UPDATE_INTERVAL=3600000

# ============================================
# CONTENT MODERATION
# ============================================
# AWS Rekognition
AWS_REKOGNITION_REGION=us-east-1
AWS_REKOGNITION_MIN_CONFIDENCE=75

# Google Cloud Vision
GOOGLE_CLOUD_VISION_KEY_PATH=/path/to/google-cloud-key.json

# ============================================
# MONITORING & LOGGING
# ============================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_OUTPUT=console
ENABLE_REQUEST_LOGGING=true

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
RATE_LIMIT_SKIP_SUCCESSFUL=false

# ============================================
# SECURITY
# ============================================
BCRYPT_ROUNDS=10
ENABLE_HELMET=true
ENABLE_CORS=true
CORS_CREDENTIALS=true
SESSION_SECRET=your-session-secret-change-in-production
COOKIE_SECRET=your-cookie-secret-change-in-production

# ============================================
# FEATURES FLAGS
# ============================================
FEATURE_BREEDING_ENABLED=true
FEATURE_MARKETPLACE_ENABLED=true
FEATURE_VIDEO_CALLS_ENABLED=false
FEATURE_INSURANCE_ENABLED=false
FEATURE_GENETIC_ANALYSIS_ENABLED=false
FEATURE_SOCIAL_SHARING_ENABLED=true

# ============================================
# ADMIN
# ============================================
ADMIN_EMAIL=admin@petplatform.com
ADMIN_PASSWORD=change-this-in-production
SUPER_ADMIN_EMAILS=admin@petplatform.com,superadmin@petplatform.com

# ============================================
# ANALYTICS
# ============================================
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token
AMPLITUDE_API_KEY=your-amplitude-api-key

# ============================================
# CDN (Optional)
# ============================================
CDN_URL=https://cdn.petplatform.com
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token

# ============================================
# BACKUP & RESTORE
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups

# ============================================
# WEBSOCKET
# ============================================
WS_PORT=3005
WS_PATH=/socket.io
WS_CORS_ORIGIN=*
WS_PING_TIMEOUT=60000
WS_PING_INTERVAL=25000

# ============================================
# TIMEZONE & LOCALE
# ============================================
TZ=Asia/Bangkok
DEFAULT_LOCALE=en
SUPPORTED_LOCALES=en,th,jp

# ============================================
# FILE UPLOAD
# ============================================
MAX_FILE_SIZE=10485760
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp,image/gif
ALLOWED_VIDEO_TYPES=video/mp4,video/quicktime
ALLOWED_DOCUMENT_TYPES=application/pdf

# ============================================
# TRUST SCORE WEIGHTS
# ============================================
TRUST_SCORE_PROFILE_COMPLETENESS_WEIGHT=0.25
TRUST_SCORE_VERIFICATION_WEIGHT=0.30
TRUST_SCORE_REVIEWS_WEIGHT=0.25
TRUST_SCORE_ACTIVITY_WEIGHT=0.10
TRUST_SCORE_TIME_ON_PLATFORM_WEIGHT=0.10

# ============================================
# MATCHING ALGORITHM
# ============================================
MATCH_LIFESTYLE_WEIGHT=0.35
MATCH_HOME_COMPATIBILITY_WEIGHT=0.25
MATCH_EXPERIENCE_WEIGHT=0.20
MATCH_PET_NEEDS_WEIGHT=0.20
MATCH_MINIMUM_SCORE=0.60

# ============================================
# FRAUD DETECTION
# ============================================
FRAUD_DETECTION_ENABLED=true
FRAUD_RISK_THRESHOLD=0.75
FRAUD_AUTO_BLOCK_THRESHOLD=0.90
FRAUD_REQUIRE_VERIFICATION_THRESHOLD=0.60

# ============================================
# TESTING (for test environment)
# ============================================
TEST_DATABASE_NAME=pet_platform_test
TEST_DATABASE_DROP_BEFORE_RUN=true
MOCK_EXTERNAL_SERVICES=true

# ============================================
# DOCKER COMPOSE OVERRIDES
# ============================================
COMPOSE_PROJECT_NAME=pet-platform
COMPOSE_FILE=docker-compose.yml

# ============================================
# BACKEND SERVICES (For Local Development)
# ============================================
NEXT_PUBLIC_AUTH_SERVICE_URL=http://localhost:3001
USER_SERVICE_URL=http://localhost:3002
PET_SERVICE_URL=http://localhost:3003
MATCHING_SERVICE_URL=http://localhost:3004
CHAT_SERVICE_URL=http://localhost:3005
MARKETPLACE_SERVICE_URL=http://localhost:3006
ADMIN_SERVICE_URL=http://localhost:3007
